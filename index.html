<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
      crossorigin="anonymous"
    />

    <!-- CSS -->
    <link rel="stylesheet" href="./css/style.css" />

    <!-- Icon Favicon -->
    <link rel="shortcut icon" href="./images/favicon.ico" type="image/x-icon" />
    <title>Guia do consumidor inteligente</title>
  </head>

  <body class="py-2">
    <!--Frame-->
    <div class="container frame">
      <!--Title-->
      <div class="container my-auto text-center">
        <img
          class="img-fluid title mt-4"
          src="./images/GCI title.png"
          alt="Titulo GCI"
        />
      </div>
      <div class="container box px-5">
        <!--Grid-->
        <div class="row">
          <!--Container1-->
          <div class="col-md-8 my-auto text-center container1">
            <div class="box2">
              <p class="chamada text-center">
                Você <span>CONITINUA PAGANDO</span> pra sua
                <span>INTERNET FICAR CAINDO</span> toda hora?<br />
              </p>
              <p class="command oi text-center">
                <span>ENTÃO GARANTE SEU PASSO A PASSO!</span>
              </p>
            </div>
          </div>
          <!--Container2-->
          <div class="col-md-4 my-auto pb-5 container2">
            <img
              class="img-fluid text-center mt-4 img"
              src="./images/Logo.png"
              alt="Logo GCI"
            />
          </div>
          <div class="w-100"></div>
          <!--Container3-->
          <div class="col-md-12 mb-3 text-center container3">
            <p class="bonus">
              Receba <span>GRÁTIS</span> o passo a passo para abrir reclamação
              na <span>ANATEL</span> e solucionar de vez os problemas de
              internet.
            </p>

            <div class="container d-flex justify-content-center">
              <form
                id="form"
                method="post"
                action="https://mail.guiadoconsumidorinteligente.com/mails"
              >
                <div class="form__group field">
                  <input
                    type="email"
                    class="form__field"
                    placeholder="E-mail"
                    name="email"
                    id="email"
                    required
                  />
                  <label for="email" class="form__label">E-mail</label>
                </div>
                <div class="text-center">
                  <button
                    id="cadastroBtn"
                    type="submit"
                    class="btn btn-outline-warning btnSend m-4"
                  >
                    Eviar o passo a passo
                  </button>
                  <script>
                    const form = document.getElementById("form");

                    const handleSubmitAsync = () => {
                      const formData = new FormData(form);
                      const jsonData = JSON.stringify(
                        Object.fromEntries(formData.entries())
                      );

                      return fetch(form.action, {
                        method: form.method,
                        headers: {
                          "Content-Type": "application/json",
                        },
                        body: jsonData,
                      }).then((response) => {
                        if (response.ok) {
                          return response;
                        } else {
                          throw new Error("Form submission failed");
                        }
                      });
                    };

                    form.addEventListener("submit", async (e) => {
                      e.preventDefault();
                      try {
                        await handleSubmitAsync();
                        alert(
                          "Parabéns, seu passo a passo foi enviado. :D\nLembre-se de olhar seu spam!"
                        );
                        form.reset();
                      } catch (error) {
                        console.error("Form submission error:", error);
                      }
                    });
                  </script>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>

  <!-- Bootstrap Script -->
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
    crossorigin="anonymous"
  ></script>
</html>
